<form class="{{cssClass}} flexcol {{#if editable}}isEditable{{/if}}" autocomplete="off">

	{{!-- Sheet Header --}}
	<div class="metaDataContent">
		<img class="profileImg" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
		<div class="metaDataContentInner">
			<div class="firstRow">
				<h1 class="charname">
					<label for="charName">Character name:</label> <input name="charName" type="text" value="{{actor.name}}" placeholder="Name"/>
				</h1>
				<a class="toggleCharacterEditing" title="Toggle editing">
					<i class="fas fa-edit"></i>
				</a>
			</div>
			<h2 class="charname"><label for="charName">Owner(s): {{currentOwners}}</h2>
			<div class="metaValues">
				<div class="metaValue">
					<label for="data.health.value">Health</label>
					<div class="metaValueContent">
						<input type="text" name="data.health.value" value="{{data.health.value}}" data-dtype="Number"/>
						<span> / </span>
						<input type="text" name="data.health.max" value="{{data.health.max}}" data-dtype="Number"/>
					</div>
				</div>
				<div class="metaValue">
					<label for="data.power.value">Power</label>
					<div class="metaValueContent">
						<input type="text" name="data.power.value" value="{{data.power.value}}" data-dtype="Number"/>
						<span> / </span>
						<input type="text" name="data.power.max" value="{{data.power.max}}" data-dtype="Number"/>
					</div>
				</div>
				<div class="metaValue">
					<label for="data.soul.value">Soul</label>
					<div class="metaValueContent">
						<span title="Initial: {{data.soul.initial}}, Awarded: {{data.soul.awarded}}, Spent: {{data.soul.spent}}">{{data.soul.current}}</span>
					</div>
				</div>
				<div class="metaValue">
					<label for="data.xp.value">XP</label>
					<div class="metaValueContent">
						<span title="Initial: {{data.xp.initial}}, Awarded: {{data.xp.awarded}}, Spent: {{data.xp.spent}}">{{data.xp.current}}</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="statsContent">
		{{#each data.typeSorted as |typeGroup key|}}
		<div class="primesGroup">
			{{#each typeGroup.primes as |prime key|}}
			<div class="primeWrapper">
				<label for="data.primes.{{key}}.value">{{prime.title}}</label>
				<input type="text" name="data.primes.{{key}}.value" value="{{prime.value}}" data-dtype="Number"/>
				<span class="primeValue">{{prime.value}}</span>
			</div>
			{{/each}}
		</div>
		<div class="refinementsGroup">
			{{#each typeGroup.refinements as |refinement key|}}
			<div class="refinementWrapper">
				<label for="data.refinements.{{key}}.value">{{refinement.title}}</label>
				<input type="text" name="data.refinements.{{key}}.value" value="{{refinement.value}}" data-dtype="Number"/>
				<span class="refinementValue">{{refinement.value}}</span>
			</div>
			{{/each}}
		</div>
		{{/each}}
	</div>

	{{!-- Sheet Tab Navigation --}}
	<nav class="sheet-tabs tabs" data-group="primary">
		<a class="item" data-tab="description">Description</a>
		<a class="item" data-tab="items">Items</a>
		<a class="item" data-tab="features">Features</a>
		<a class="item" data-tab="spells">Spells</a>
		<a class="item" data-tab="refinements">Refinements</a>
	</nav>

	{{!-- Sheet Body --}}
	<section class="sheet-body">

		{{!-- Biography Tab --}}
		<div class="tab biography" data-group="primary" data-tab="description">
			{{editor content=data.biography target="data.biography" button=true owner=owner editable=editable}}
		</div>

		{{!-- Owned Items Tab --}}
		<div class="tab items" data-group="primary" data-tab="items">
			<ol class="items-list">
				<li class="item flexrow item-header">
				<div class="item-image"></div>
				<div class="item-name">Name</div>
				<div class="item-controls">
					<a class="item-control item-create" title="Create item" data-type="item"><i class="fas fa-plus"></i> Add item</a>
				</div>
				</li>
			{{#each actor.gear as |item id|}}
				<li class="item flexrow" data-item-id="{{item._id}}">
					<div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
					<h4 class="item-name">{{item.name}}</h4>
					<div class="item-controls">
						<a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
						<a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
					</div>
				</li>
			{{/each}}
			</ol>
		</div>

		{{!-- Owned Features Tab --}}
		<div class="tab features" data-group="primary" data-tab="features">
			<ol class="items-list">
				<li class="item flexrow item-header">
				<div class="item-image"></div>
				<div class="item-name">Name</div>
				<div class="item-controls">
					<a class="item-control item-create" title="Create item" data-type="feature"><i class="fas fa-plus"></i> Add item</a>
				</div>
				</li>
			{{#each actor.features as |item id|}}
				<li class="item flexrow" data-item-id="{{item._id}}">
					<div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
					<h4 class="item-name">{{item.name}}</h4>
					<div class="item-controls">
						<a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
						<a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
					</div>
				</li>
			{{/each}}
			</ol>
		</div>

		{{!-- Owned Spells Tab --}}
		<div class="tab spells" data-group="primary" data-tab="spells">
			<ol class="items-list">
				<li class="item flexrow item-header">
				<div class="item-image"></div>
				<div class="item-name">Name</div>
				<div class="item-controls"></div>
				</li>
				{{#each actor.spells as |spells spellLevel|}}
					<li class="item flexrow item-header">
					<div class="item-name">Level {{spellLevel}} Spells</div>
					<div class="item-controls">
						<a class="item-control item-create" title="Create item" data-type="spell" data-spell-level="{{spellLevel}}"><i class="fas fa-plus"></i> Add LVL {{spellLevel}}</a>
					</div>
					</li>
					{{#each spells as |item id|}}
						<li class="item flexrow" data-item-id="{{item._id}}">
							<div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
							<h4 class="item-name">{{item.name}}</h4>
							<div class="item-controls">
								<a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
								<a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
							</div>
						</li>
					{{/each}}
				{{/each}}
			</ol>
		</div>

		{{!-- Refinements --}}
		<div class="tab refinements" data-group="primary" data-tab="refinements">
			<ol class="items-list">
				<li class="item flexrow item-header">
				<div class="item-image"></div>
				<div class="item-name">Name</div>
				<div class="item-controls"></div>
				</li>
				{{#each actor.spells as |spells spellLevel|}}
					<li class="item flexrow item-header">
					<div class="item-name">Level {{spellLevel}} Spells</div>
					<div class="item-controls">
						<a class="item-control item-create" title="Create item" data-type="spell" data-spell-level="{{spellLevel}}"><i class="fas fa-plus"></i> Add LVL {{spellLevel}}</a>
					</div>
					</li>
					{{#each spells as |item id|}}
						<li class="item flexrow" data-item-id="{{item._id}}">
							<div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
							<h4 class="item-name">{{item.name}}</h4>
							<div class="item-controls">
								<a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
								<a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
							</div>
						</li>
					{{/each}}
				{{/each}}
			</ol>
		</div>

	</section>
</form>

