<div class="{{partialClasses}} statsContent flexRow flexWrap flexBetween">
    {{#with actor.stats}}
    {{#each sorted}}
    <div class="primesGroup primeGroup_{{statType}}">
        {{#if @first }}
        <div class="blockTitle">Primes</div>
        {{/if}}
        {{#each primes}}
<!--            {{!aliasAs 'cssClassId' (join "prime" @root.actor.id id separator='-')}}-->
            <div class="primeWrapper {{cssClassIf 'customisableStat' if=metadata.customisable}}{{cssClassIf 'defaultStat' if=metadata.default}}{{cssClassIf 'selectedRollerPrime' if=(and @root.sheet.roller.open (equal id @root.sheet.roller.selectedPrimeId))}}"
                 data-prime-id="{{id}}"
                 title="{{convertHTMLForTitle description 150}}&#xD;*DOUBLE CLICK TO EDIT VALUE*">
				<span class="selectedIndicator"></span>
                {{#unless metadata.default}}
                <a class="deleteItemIcon" data-item-id={{id}} title="Delete prime"><i class="fas fa-trash"></i></a>
                {{/unless}}
                <a class="showStatInfoIcon"
                   data-dyn-click-at="actor.stats.primes.displayStat()"
                   data-dyn-render-off
                   data-dyn-id="{{id}}"><i class="fas fa-info-circle fa-xs"></i></a>
                <div id="roll-primes-{{id}}"
                     data-dyn-click-at="sheet.roller.selectPrimeToRoll()"
                     data-dyn-render-off
                     data-dyn-id="{{id}}">
                    {{#if this.metadata.customisable}}{{this.name}}{{else}}{{this.source.name}}{{/if}}</div>
                <div class="valueWrapper">
                    <input type="number" id="primes-{{id}}" value="{{unadjustedValue}}"
                           data-dyn-type="Number"
                           data-dyn-change-at="actor.stats.primes.setStatValue()"
                           data-dyn-change-key="{{id}}"
                           class="statInput primeInput"/>
                    <span class="primeValue">{{#if (equal unadjustedValue value)}}{{unadjustedValue}}{{else}}{{unadjustedValue}}&nbsp;({{value}}){{/if}}</span>
                </div>
            </div>
        {{/each}}
    </div>
    <div class="refinementsGroup refinementGroup_{{statType}}">
        {{#if @first}}
        <div class="blockTitle">Refinements</div>
        {{/if}}
        {{#each refinements}}
<!--            {{!aliasAs 'cssClassId' (join "refinement" @root.actor.id id separator='-')}}-->
            <div class="refinementWrapper {{cssClassIf 'customisableStat' if=metadata.customisable}}{{cssClassIf 'defaultStat' if=metadata.default}}{{cssClassIf 'selectedRollerRefinement' if=(and @root.sheet.roller.open (equal id @root.sheet.roller.selectedRefinementId))}}"
                 title="{{convertHTMLForTitle description 150}}&#xD;*DOUBLE CLICK TO EDIT VALUE*"
                 data-refinement-id="{{id}}">
				<span class="selectedIndicator"></span>
                {{#unless metadata.default}}
                <a class="deleteItemIcon" data-item-id={{id}} title="Delete refinement"><i class="fas fa-trash"></i></a>
                {{/unless}}
                <a class="showStatInfoIcon"
                   data-dyn-click-at="actor.stats.refinements.displayStat()"
                   data-dyn-render-off
                   data-dyn-id="{{id}}">
                    <i class="fas fa-info-circle fa-xs"></i>
                </a>
                <div id="roll-refinements-{{id}}"
                     data-dyn-click-at="sheet.roller.selectRefinementToRoll()"
                     data-dyn-render-off
                     data-dyn-id="{{id}}">
                    {{#if this.metadata.customisable}}{{this.name}}{{else}}{{this.source.name}}{{/if}}</div>
                <div class="valueWrapper">
                    <input type="number" id="refinements-{{id}}" value="{{unadjustedValue}}"
                           data-dyn-type="Number"
                           data-dyn-change-at="actor.stats.refinements.setStatValue()"
                           data-dyn-change-key="{{id}}"
                     class="statInput refinementInput"/>
                    <span class="refinementValue">{{#if (equal unadjustedValue value)}}{{unadjustedValue}}{{else}}{{unadjustedValue}}&nbsp;({{value}}){{/if}}</span>
                </div>
            </div>
        {{/each}}
    </div>
    {{/each}}
    {{/with}}
</div>